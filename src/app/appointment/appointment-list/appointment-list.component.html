<div class="my-search w-100">
    <app-search (newSearchEvent)="filterAppointments($event)"></app-search>
</div>

<div>
    <ng-container *ngIf="loginService.userLogged.userType === 'patient'">
        <div>
            <a routerLink="/clinics">Add appointment</a>
        </div>

        <div class="table-responsive">
            <table class="table table-hover">
                <thead>
                <tr>
                    <th>Clinic name</th>
                    <th>Appointment date</th>
                    <th>Appointment time</th>
                    <th>Specialty</th>
                    <th>Actions</th>
                </tr>
                </thead>
                <tbody *ngFor="let appointment of appointmentService.allAppointments">
                    <tr  *ngIf="appointment.patientId === loginService.userLogged.id">
                        <td>{{ appointment.clinicName }}</td>
                        <td>{{ appointment.date }}</td>
                        <td>{{ appointment.time }}</td>
                        <td>{{ appointment.specialty }}</td>
                        <td><button>Edit</button><button (click)="deleteAppointment(appointment)">Delete</button></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </ng-container>

    <ng-container *ngIf="loginService.userLogged.userType === 'clinic'">
        <div class="table-responsive">
            <table class="table table-hover">
                <thead>
                <tr>
                    <th>Patient name</th>
                    <th>CNP</th>
                    <th>Date of birth</th>
                    <th>Gender</th>
                    <th>Appointment date</th>
                    <th>Appointment time</th>
                    <th>Specialty</th>
                    <th>Email</th>
                    <th>Phone</th>
                    <th>Actions</th>
                </tr>
                </thead>
                <tbody *ngFor="let appointment of appointmentService.allAppointments">
                <tr  *ngIf="appointment.clinicId === loginService.userLogged.id">
                    <td>{{ appointment.firstName }} {{ appointment.lastName }}</td>
                    <td>{{ appointment.cnp }}</td>
                    <td>{{  appointment.birthday}}</td>
                    <td>{{ appointment.gender }}</td>
                    <td>{{ appointment.date }}</td>
                    <td>{{ appointment.time }}</td>
                    <td>{{ appointment.specialty }}</td>
                    <td>{{ appointment.email }}</td>
                    <td>{{ appointment.phone }}</td>
                    <td><button>Edit</button><button (click)="deleteAppointment(appointment)">Delete</button></td>
                </tr>
                </tbody>
            </table>
        </div>
    </ng-container>
</div>
